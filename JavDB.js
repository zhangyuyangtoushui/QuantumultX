var _0xody='jsjiami.com.v7';function _0x3403(_0x3f8081,_0x253393){const _0x45900f=_0x4590();return _0x3403=function(_0x3403ba,_0x37d306){_0x3403ba=_0x3403ba-0x16e;let _0x434f8e=_0x45900f[_0x3403ba];if(_0x3403['RLCTgU']===undefined){var _0x5af3e1=function(_0x1ae27b){const _0x18b017='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5d4c3f='',_0x371d0a='';for(let _0x417db4=0x0,_0x52f22a,_0x2b67c5,_0x582c03=0x0;_0x2b67c5=_0x1ae27b['charAt'](_0x582c03++);~_0x2b67c5&&(_0x52f22a=_0x417db4%0x4?_0x52f22a*0x40+_0x2b67c5:_0x2b67c5,_0x417db4++%0x4)?_0x5d4c3f+=String['fromCharCode'](0xff&_0x52f22a>>(-0x2*_0x417db4&0x6)):0x0){_0x2b67c5=_0x18b017['indexOf'](_0x2b67c5);}for(let _0x30aa3c=0x0,_0x53b372=_0x5d4c3f['length'];_0x30aa3c<_0x53b372;_0x30aa3c++){_0x371d0a+='%'+('00'+_0x5d4c3f['charCodeAt'](_0x30aa3c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x371d0a);};const _0x3b0df4=function(_0x44731f,_0x56c348){let _0x53b712=[],_0x59774d=0x0,_0xa14920,_0x51f893='';_0x44731f=_0x5af3e1(_0x44731f);let _0x323bc0;for(_0x323bc0=0x0;_0x323bc0<0x100;_0x323bc0++){_0x53b712[_0x323bc0]=_0x323bc0;}for(_0x323bc0=0x0;_0x323bc0<0x100;_0x323bc0++){_0x59774d=(_0x59774d+_0x53b712[_0x323bc0]+_0x56c348['charCodeAt'](_0x323bc0%_0x56c348['length']))%0x100,_0xa14920=_0x53b712[_0x323bc0],_0x53b712[_0x323bc0]=_0x53b712[_0x59774d],_0x53b712[_0x59774d]=_0xa14920;}_0x323bc0=0x0,_0x59774d=0x0;for(let _0x1b4e8d=0x0;_0x1b4e8d<_0x44731f['length'];_0x1b4e8d++){_0x323bc0=(_0x323bc0+0x1)%0x100,_0x59774d=(_0x59774d+_0x53b712[_0x323bc0])%0x100,_0xa14920=_0x53b712[_0x323bc0],_0x53b712[_0x323bc0]=_0x53b712[_0x59774d],_0x53b712[_0x59774d]=_0xa14920,_0x51f893+=String['fromCharCode'](_0x44731f['charCodeAt'](_0x1b4e8d)^_0x53b712[(_0x53b712[_0x323bc0]+_0x53b712[_0x59774d])%0x100]);}return _0x51f893;};_0x3403['msxLzL']=_0x3b0df4,_0x3f8081=arguments,_0x3403['RLCTgU']=!![];}const _0x356e94=_0x45900f[0x0],_0x5a446=_0x3403ba+_0x356e94,_0x73209a=_0x3f8081[_0x5a446];return!_0x73209a?(_0x3403['XoWGhJ']===undefined&&(_0x3403['XoWGhJ']=!![]),_0x434f8e=_0x3403['msxLzL'](_0x434f8e,_0x37d306),_0x3f8081[_0x5a446]=_0x434f8e):_0x434f8e=_0x73209a,_0x434f8e;},_0x3403(_0x3f8081,_0x253393);}const _0x15412d=_0x3403;function _0x4590(){const _0x3d545f=(function(){return[_0xody,'PLSjhsfOjMiuamgi.pcogxJmT.YKvGMU7PCyCKqD==','ht99','W5lcTwC','W4tcRHKGWQe','cmkPD1ZcPW','CSkqdJq','W5aMyCke','WQD3W6Dn','p8k8WRW','W6eQWQiilu8DCComW7FdTG','WOtdOczWW7xdO8kkWQNcVCoThG','sYOgWQGaW4ubWRnpWQpdQHBdOb4','W4FdNmopBa','W4ugWQe','nSolW6RdG24','W5/cVNm','bqKgWRWmWPhdQ8ov','csHRfa','W4pcVMCZ','W7hcM8khW4myW4K','W5tcP0yiWR4','W47dUSkEWRm','DCoYaa','cJj+ouNdG1zTW7xdQmotWPxdUmkM','W4GcaCkD','rHhdPCkv','WOblnCoiWPy','W5BdISoFca','gJjGb0ddL18','W4zuWQxcUa','WQTAW61lEG','wIycWPmeW4Kq','zGZdGwi','tqxdShCd','c8oxahhcVCkJeCo2W6FcUcPUWOqcDsy','W5KTrmkQW7pdQSoDWRjEsSkFzSk4','WRVdMSotWOm','W47dTmkeWRC','WQ5qe8kjxW','WRHdcW','W4hdLSoEaW','rItdJWBdQsHfW4y','v37dGSk9W6xdTuhcJmoFWOlcQt9rWPNcIq','W4PxWRhcSJqVWOZdImkdW7dcQ8kKWPu0','WQNdKSoxWR0XWQBdHvVcJaZdS17dH8ok','DfHGWQLks8krCMTbW6byWOa','W48anmkXDW','W5zqWQlcRq','WO/dNmozabe','W4xcKCkzW6RcKSk5WPRcHge','tmoNhazI','WPhdTmoZWQSxWPS','FSocW7pcRmkPxMC4kmkpWRayvW','W4BcO3G','WROLgCkEs29tpXa'].concat((function(){return['W7TZx8kV','WR5QW5TXtG','W5mJpSkItMu','oCoRaSoyW4RcVCkyfHm','Cmo3bX8','WPJcPCojW6yvW5FdObeXW6VdUmoQW5uSWRRcQmoWW63cGtVdTSkbWPZdISkabGpcH2O','ACkAWOFcOalcOHpcQCkPW77cG3BdLmoDj21uxsZdG8oRW73cLCoLrComiCossW','vstcIc0zW6yUW68AWPtcJ3ChWObe','DmktbYFdHSkjkH1u','k8kRWQRcJG','W5NdPCkCWRDlWO7cJv1M','m8ojchtcVW','gdP6bW','WOH/a8o4','W4JcNSkjW64','WPHutmojhSkrWOxdQ8k2krW','lmoNma9bCuO','wxmMWQao','W4vIySkDsW','WPCeW6hcVmo0reldTYK','wZdcIs0cW645W54uWOxcHq','W4FdMmoogW','WOBdNmo5mG','W4Txnq','qdldNGa','uX/dR2OY','xKZcI8kb','xCkwqIRdPCkMomonW7VcUaG','W4RcP8k2W7G','DYFdSb7dHq','DqJdL1Wpt8oflYTokY0BlhK','wwyaWPKI','m8kRWQG','WPVdOCkm','WPpcKsWAWORdOcy','WPecW6xdQ8kYhXNdTrbFfCk0BW','W5WnmSkWua','lc10jgi','W67dTSkaWOv/','WOBdICocWRa5','oZb7WRX6dYq','W4uneCkzxSkOWOhdQ8k1','W4xdMmoEACoqW5hdQr0','WPJcRCogW6CiWQhcQf5ZWRxdPq','BmkEWORcQrZcPrhdO8onWOdcPXpcNq','t23dHCkqW7ZdVuVcHW','W5ZcP3e1WRddRmkVWOm','W57cSIm','WPdcHspdVG','W7RdJ8oEx8oF','WRDNB8kQyevm','8yMGIVc4KkNWMOckr/czOQJWU5k38yIrMG','WObXemoCWRpcRq','W7bQdvxcOSkR','W6T3wmk6','WRikegBdRWXOfSkyWORcKcu'].concat((function(){return['WRPubCk1wLpcICkBW7/cHrRdVdLPta','W7tdPKNdHMW','W5DgWRtcQW','W4yYkCkVqMpcS8kX','nvtcJdfshCoWgr5xiaq','l8kqWRtdVG','W5DhWR0','WP7dPmklWPO','W5Pelx0','iNWOfq','wstdLrxdTc4','W681b8kfDq','DCklbZO','WRacgthcRfnvhmk+','qstdIay','WOnzhmoAWP0S','W4q2omkQ','WOvTkmoVWQJcRW','W5uLia','W4y+imk/rxa','WOhcLZldRq','W4VdSCkd','W4hdL2ldMSoXF8oUW5BdTG','vI7cUqyg','W6fsxtu','ECkSwSklWOZdOSoZjZJdHwi5xW','W5JcM8kYW58/','W57cSYOrWQJdRt4y','WOFcKcxdTSoMF8oGW5xdPW','r8k3lqnS','8jAJV/cDSAtXI4gYW5BXGzcL8j2JIFc/SOa','lSoeae7cKW','usddJXm','DX7dKhe','W57dSmkdWQi','qYxcMq','WPhdICo/oJ4MWQRdHs8','WPZdRmktWO8ezW','W6eIWQ0jmdLvpSkoWQNdQ8oMzSoxW4pdMmkYfmkJzHJcUL7cQZDvW4FdP8kH','WObXea','wNCEWOS0gI9IwG','WPJcOCkkWPnEWQ7cLN4','6k6P5Ac15yAd5l+e5zgo5yYl5A6g','nIPUWQ4Srw9LW6VcNSkBWOyatCkjqSo9WQe6W54/iSk+y8oE','eSkLWQJdUSoj','nCotuNBcMmoqr1edW7tcRwjMWORdQSoPkConxMNcKG85WQrHCCoLW54e','xhuE','nH8XW6i','W4RcPdW','i8oOmCopW5dcPq','sCkoBGdcVai','hSo7W5ZdMxW','W5xcUhGZWQhdTW'];}()));}()));}());_0x4590=function(){return _0x3d545f;};return _0x4590();};if(function(_0x121050,_0x5547da,_0x4a6361,_0x103cf3,_0x3b397a,_0x38b0e5,_0x235400){return _0x121050=_0x121050>>0x6,_0x38b0e5='hs',_0x235400='hs',function(_0x260235,_0x319cdb,_0x53d7ce,_0x5530af,_0x2c0a2f){const _0x546219=_0x3403;_0x5530af='tfi',_0x38b0e5=_0x5530af+_0x38b0e5,_0x2c0a2f='up',_0x235400+=_0x2c0a2f,_0x38b0e5=_0x53d7ce(_0x38b0e5),_0x235400=_0x53d7ce(_0x235400),_0x53d7ce=0x0;const _0x3c4439=_0x260235();while(!![]&&--_0x103cf3+_0x319cdb){try{_0x5530af=-parseInt(_0x546219(0x198,'h[V8'))/0x1*(parseInt(_0x546219(0x205,'h[V8'))/0x2)+parseInt(_0x546219(0x173,'giTJ'))/0x3*(parseInt(_0x546219(0x1fc,'&LyC'))/0x4)+parseInt(_0x546219(0x185,'v^Nk'))/0x5*(parseInt(_0x546219(0x1e9,'0Ff*'))/0x6)+parseInt(_0x546219(0x1c6,'AfB4'))/0x7*(parseInt(_0x546219(0x20c,'pDAc'))/0x8)+-parseInt(_0x546219(0x1ad,'LYU^'))/0x9*(parseInt(_0x546219(0x17c,'O^Of'))/0xa)+-parseInt(_0x546219(0x188,'!WuL'))/0xb+-parseInt(_0x546219(0x206,'vI1Z'))/0xc;}catch(_0x13d5bc){_0x5530af=_0x53d7ce;}finally{_0x2c0a2f=_0x3c4439[_0x38b0e5]();if(_0x121050<=_0x103cf3)_0x53d7ce?_0x3b397a?_0x5530af=_0x2c0a2f:_0x3b397a=_0x2c0a2f:_0x53d7ce=_0x2c0a2f;else{if(_0x53d7ce==_0x3b397a['replace'](/[uMgGqyTDpUfYxKhOSCLPJ=]/g,'')){if(_0x5530af===_0x319cdb){_0x3c4439['un'+_0x38b0e5](_0x2c0a2f);break;}_0x3c4439[_0x235400](_0x2c0a2f);}}}}}(_0x4a6361,_0x5547da,function(_0x55c123,_0x46fa18,_0x4eb1c7,_0x1a534f,_0x3aa883,_0x24cf09,_0x4a1f75){return _0x46fa18='\x73\x70\x6c\x69\x74',_0x55c123=arguments[0x0],_0x55c123=_0x55c123[_0x46fa18](''),_0x4eb1c7='\x72\x65\x76\x65\x72\x73\x65',_0x55c123=_0x55c123[_0x4eb1c7]('\x76'),_0x1a534f='\x6a\x6f\x69\x6e',(0x165934,_0x55c123[_0x1a534f](''));});}(0x30c0,0x6bd90,_0x4590,0xc5),_0x4590){}const $=new const $ = new Env('ùêâùêöùêØùêÉùêÅ'), server = _0x15412d(0x19a, '3J0E'), interface_id = _0x15412d(0x1bd, '0FEa'), yqcKey = ''; // ÁßªÈô§‰∫ÜËé∑Âèñ yqcKey ÁöÑÈÄªËæë
let { body } = $response;
console[_0x15412d(0x1b2, 'LYU^')](body);

const _0x5a4612 = async () => {
    const _0x1930d9 = _0x15412d,
        _0x5c942a = {
            'onVCg': _0x1930d9(0x1df, 'h[V8'),
            'ptTJI': _0x1930d9(0x1c5, 'r)hj'),
            'nydWZ': _0x1930d9(0x170, 'NWEu'),
            'BuZri': _0x1930d9(0x1f3, 'giTJ'),
            'YTheR': function (_0x555072, _0x1de89a) { return _0x555072 === _0x1de89a; },
            'gvROz': _0x1930d9(0x1dc, '7vrr')
        };
    try {
        const _0x4f3327 = {
            'url': server + '/nsfw',
            'headers': {
                'content-type': _0x5c942a[_0x1930d9(0x1eb, 'y3Ls')],
                'x-auth-uid': yqcKey,
                'x-id': interface_id
            },
            'body': JSON['stringify']({ 'yqc': $request })
        },
            { body: _0x33062d } = await $['http'][_0x1930d9(0x1b5, 'LYU^')](_0x4f3327);
        return _0x33062d;
    } catch (_0x483e45) {
        if (_0x5c942a[_0x1930d9(0x1a7, 'znfb')] !== _0x5c942a['BuZri'])
            throw _0x5c942a[_0x1930d9(0x19b, 'hx&p')](typeof _0x483e45, _0x5c942a[_0x1930d9(0x1b7, 'LYU^')]) ? _0x483e45 : _0x483e45?.['response']?.[_0x1930d9(0x1cb, '(sx2')] || JSON[_0x1930d9(0x18b, 'v^Nk')](_0x483e45);
        else
            _0x582ef1[_0x1930d9(0x196, 'AfB4')](_0x254297[_0x1930d9(0x186, '28a#')](_0x394e11[_0x1930d9(0x178, 'rXVw')])),
                _0x1f77bb[_0x1930d9(0x1f4, 'Dbd2')][_0x1930d9(0x17b, 'tEa[')][_0x1930d9(0x1ae, 'Ys[&')] = _0x5c942a[_0x1930d9(0x1a6, '&LyC')],
                _0x3e7d2a[_0x1930d9(0x1af, '%gQ0')][_0x1930d9(0x1f6, '0dF9')]['is_vip'] = !![],
                _0x1c2a2d[_0x1930d9(0x174, 'hx&p')]['user'][_0x1930d9(0x1b3, 'hdSW')] = _0x1930d9(0x20d, 'R#&^');
    }
};

!(async () => {
    const _0x4b37d5 = _0x15412d,
        _0x220b24 = {
            'OhEta': _0x4b37d5(0x199, '3J0E'),
            'maTSA': function (_0x46ec6e, _0x367f93) { return _0x46ec6e !== _0x367f93; },
            'ObKNU': _0x4b37d5(0x1ff, 'U$pj'),
            'oWxzW': function (_0x4e9f15) { return _0x4e9f15(); },
            'YreRm': 'QLUnc',
            'GOOKD': _0x4b37d5(0x200, 'h[V8'),
            'JtNFy': function (_0x18c968, _0x262995) { return _0x18c968 === _0x262995; },
            'LtTse': _0x4b37d5(0x19c, 'ZxHr'),
            'Ynxik': _0x4b37d5(0x1db, 'R#&^'),
            'xHyrg': _0x4b37d5(0x1d5, 'P)@m'),
            'pnGLv': function (_0x36fb74, _0x5ec81e) { return _0x36fb74 > _0x5ec81e; },
            'LjjsU': _0x4b37d5(0x1f7, 'd[X5'),
            'EQbIS': 'REYjk'
        };

    if (!yqcKey) {
        console.log("yqcKey is missing. Skipping the check."); // Ê∑ªÂä†Ë∑≥ËøáÈ™åËØÅÁöÑÊó•Âøó‰ø°ÊÅØ
    }

    const result = await _0x5a4612();
    console.log(result);
})();
if(/movies\/\w+\/play/[_0x4b37d5(0x17d,'d[X5')]($request[_0x4b37d5(0x1d8,'LYU^')])){if(_0x220b24[_0x4b37d5(0x1b1,'vI1Z')]('PvzBN',_0x220b24[_0x4b37d5(0x17a,'7vrr')]))_0x839656[_0x4b37d5(0x1c7,'uiSu')]['splash_ad']['enabled']=![],_0x58f40a['data'][_0x4b37d5(0x1dd,'!WuL')][_0x4b37d5(0x207,']7I&')]=0x0;else{body=await _0x220b24[_0x4b37d5(0x1d1,'7vrr')](_0x5a4612);return;}}var _0x4a5801=JSON[_0x4b37d5(0x1f9,'y3Ls')](body);/users/['test']($request['url'])&&(_0x220b24['maTSA'](_0x220b24[_0x4b37d5(0x20b,'%gQ0')],_0x220b24[_0x4b37d5(0x201,'uiSu')])?_0x2a83bf['data'][_0x4b37d5(0x1b0,'#lGK')][_0x4b37d5(0x1e1,'28a#')]=_0x3dfb1b['data'][_0x4b37d5(0x184,'h[V8')][_0x4b37d5(0x16f,'ad*4')][_0x4b37d5(0x182,'7vrr')](_0x35d0f7=>!/https?:\/\//[_0x4b37d5(0x1aa,'R#&^')](_0x35d0f7?.[_0x4b37d5(0x1d8,'LYU^')])):_0x4a5801?.[_0x4b37d5(0x1f0,'!EXA')]?.['user']&&(console['log']($['toStr'](_0x4a5801['data'])),_0x4a5801[_0x4b37d5(0x1ef,'(sx2')][_0x4b37d5(0x1f2,'d[X5')]['vip_expired_at']=_0x4b37d5(0x195,'R#&^'),_0x4a5801[_0x4b37d5(0x1e7,'AfB4')]['user'][_0x4b37d5(0x1a0,'!WuL')]=!![],_0x4a5801[_0x4b37d5(0x1de,'P)@m')][_0x4b37d5(0x1b4,'U$pj')]['username']='ùêòùêêùêÇ\x20ùêïùêàùêè')),/startup/[_0x4b37d5(0x1a9,'j8w@')]($request[_0x4b37d5(0x175,'I5C]')])&&(_0x220b24[_0x4b37d5(0x1d3,'!EXA')](_0x220b24[_0x4b37d5(0x18c,'tEa[')],_0x4b37d5(0x18e,'r)hj'))?delete _0x191135['data'][_0x4b37d5(0x1cc,'d[X5')][_0x4b37d5(0x20f,'*0*D')]:(_0x4a5801?.[_0x4b37d5(0x1af,'%gQ0')]?.[_0x4b37d5(0x1e4,'h[V8')]&&(_0x220b24[_0x4b37d5(0x1ec,'pDAc')](_0x4b37d5(0x189,'0dF9'),'gOaUd')?(_0x4a5801['data'][_0x4b37d5(0x197,'y3Ls')][_0x4b37d5(0x202,'3J0E')]=![],_0x4a5801[_0x4b37d5(0x17f,'7vrr')][_0x4b37d5(0x1e2,'ZxHr')][_0x4b37d5(0x208,'LYU^')]=0x0):(_0x4a0c18[_0x4b37d5(0x176,'2Wsc')][_0x4b37d5(0x17b,'tEa[')][_0x4b37d5(0x1ce,'0z!C')]='2090-12-31T23:59:59.000+08:00',_0x161f37[_0x4b37d5(0x1c7,'uiSu')][_0x4b37d5(0x1e3,'fjnM')]['is_vip']=!![])),_0x4a5801?.['data']?.[_0x4b37d5(0x172,'7vrr')]&&(_0x4a5801[_0x4b37d5(0x1bb,'0Ff*')][_0x4b37d5(0x204,'%gQ0')]={}),_0x4a5801?.[_0x4b37d5(0x1de,'P)@m')]?.['settings']?.[_0x4b37d5(0x1b6,'0dF9')]&&delete _0x4a5801[_0x4b37d5(0x210,'pDAc')]['settings'][_0x4b37d5(0x1d6,'uiSu')],_0x4a5801?.['data']?.[_0x4b37d5(0x183,'v^Nk')]&&(_0x4a5801[_0x4b37d5(0x18f,'d[X5')][_0x4b37d5(0x171,'I5C]')][_0x4b37d5(0x1ba,'U$pj')]=_0x220b24['LtTse'],_0x4a5801['data'][_0x4b37d5(0x190,'giTJ')][_0x4b37d5(0x17e,'0FEa')]=!![]))),/ads/[_0x4b37d5(0x17d,'d[X5')]($request[_0x4b37d5(0x209,'&LyC')])&&(_0x220b24[_0x4b37d5(0x1e5,'r)hj')]!==_0x220b24[_0x4b37d5(0x1c1,'R#&^')]?(_0x220b24[_0x4b37d5(0x1fe,'0Ff*')](_0x4a5801?.[_0x4b37d5(0x187,'O^Of')]?.[_0x4b37d5(0x192,'28a#')]?.['index_top']?.['length'],0x0)&&(_0x4a5801['data'][_0x4b37d5(0x19f,'&LyC')]['index_top']=_0x4a5801[_0x4b37d5(0x1e6,'U$pj')]['ads'][_0x4b37d5(0x1d4,'78LU')]['filter'](_0x576448=>!/https?:\/\//['test'](_0x576448?.[_0x4b37d5(0x181,'7vrr')]))),_0x4a5801?.[_0x4b37d5(0x1c8,'h[V8')]?.['ads']?.[_0x4b37d5(0x1f8,'giTJ')]?.['length']>0x0&&(_0x220b24['LjjsU']!==_0x220b24[_0x4b37d5(0x1a2,'vI1Z')]?_0x4a5801[_0x4b37d5(0x1e8,'78LU')][_0x4b37d5(0x1b9,'P)@m')]['web_magnets_top']=_0x4a5801[_0x4b37d5(0x176,'2Wsc')]['ads'][_0x4b37d5(0x1cd,']7I&')][_0x4b37d5(0x1a3,'LYU^')](_0xe3364a=>!/https?:\/\//[_0x4b37d5(0x1da,'pDAc')](_0xe3364a?.[_0x4b37d5(0x1f1,'*0*D')])):(_0xaf28b7?.[_0x4b37d5(0x1f0,'!EXA')]?.['ads']?.[_0x4b37d5(0x203,'0Ff*')]?.['length']>0x0&&(_0x30f022[_0x4b37d5(0x177,'*0*D')][_0x4b37d5(0x1fb,'2Wsc')]['index_top']=_0x379757[_0x4b37d5(0x1c0,'I5C]')][_0x4b37d5(0x1a5,'LYU^')]['index_top'][_0x4b37d5(0x194,'2Wsc')](_0x528647=>!/https?:\/\//[_0x4b37d5(0x1d2,'I5C]')](_0x528647?.[_0x4b37d5(0x1ca,'ad*4')]))),_0x382cbb?.['data']?.['ads']?.['web_magnets_top']?.[_0x4b37d5(0x179,'d[X5')]>0x0&&(_0x43a19e['data'][_0x4b37d5(0x1ab,'fjnM')]['web_magnets_top']=_0xa9b640[_0x4b37d5(0x1bb,'0Ff*')][_0x4b37d5(0x1a4,'U$pj')]['web_magnets_top'][_0x4b37d5(0x1a1,']d&y')](_0x14fa57=>!/https?:\/\//[_0x4b37d5(0x191,'h[V8')](_0x14fa57?.[_0x4b37d5(0x19d,'y3Ls')])))))):_0x323bc0?.[_0x4b37d5(0x20a,'v^Nk')]?.[_0x4b37d5(0x19e,'4&%r')]&&(_0x3ab762[_0x4b37d5(0x196,'AfB4')](_0x3e8cc4['toStr'](_0x3026c3[_0x4b37d5(0x1bc,'0K!C')])),_0x1aa977[_0x4b37d5(0x1c3,'giTJ')][_0x4b37d5(0x1a8,'ZxHr')][_0x4b37d5(0x1cf,'uiSu')]=_0x4b37d5(0x1e0,'vI1Z'),_0x17a90f['data'][_0x4b37d5(0x1be,'(sx2')][_0x4b37d5(0x180,'AfB4')]=!![],_0x20a0ad['data'][_0x4b37d5(0x1a8,'ZxHr')][_0x4b37d5(0x18a,'&LyC')]=_0x4b37d5(0x18d,']d&y'))),body=JSON[_0x4b37d5(0x193,'!EXA')](_0x4a5801);})()[_0x15412d(0x1c9,'ad*4')]($[_0x15412d(0x20e,'AfB4')])[_0x15412d(0x1bf,'U$pj')](()=>$[_0x15412d(0x1b8,'h[V8')]({'body':body}));var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t);break;case"Node.js":this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
